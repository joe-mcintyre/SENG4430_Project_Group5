package com.tool.metrics.security;

import java.nio.file.Path;
import java.util.ArrayList;

import com.tool.domain.Finding;
import com.tool.domain.Threshold;
import com.tool.metrics.Metric;
import com.tool.metrics.MetricResult;
import com.tool.domain.Severity;


//Security metric Dependency Vulnerability Risk.
//Score convention in this tool:
//(score is in [0,1] lower is better)

public class DependencyVulnerabilityRiskMetric extends Metric {

    public DependencyVulnerabilityRiskMetric(ArrayList<Threshold> thresholds) {
        super(
                thresholds,
                "Dependency Vulnerability Risk",
                "Measures security posture by assessing known vulnerabilities in third-party dependencies. "
                        + "Lower scores indicate higher dependency-related security risk."
        );
    }

    @Override
    public MetricResult evaluate(Path projectPath) {
    ArrayList<Finding> findings = new ArrayList<>();

    findings.add(new Finding(
        Severity.CRITICAL,
        "Placeholder: dependency vulnerability scan not yet implemented",
        "dependency-check-report.xml",
        null
    ));

    double score = 0.0;

    return new MetricResult(score, findings, thresholds());
}
}